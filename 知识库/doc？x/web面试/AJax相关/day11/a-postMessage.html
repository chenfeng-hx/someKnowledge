<!-- 当前代码编辑信息:
        由用户 尘封 使用 WebStorm 在 “web面试” 中
        于 2023-05-14 18:36:12 编写而成！
        祝你食用愉快！！！ -->
<!DOCTYPE html>
<html lang="zh-CN">
<head>
	<meta charset="UTF-8">
	<title>a-postMessage.html</title>
</head>
<body>
<!-- 注释 -->
<iframe id="iframe" src="http://www.domain2.com/b.html"
		style="display:none;"></iframe>
<script>
	var iframe = document.getElementById('iframe');
	iframe.onload = function() {
		var data = {
			name: 'aym'
		};
		// 向domain2传送跨域数据
		iframe.contentWindow.postMessage(JSON.stringify(data),
			'http://www.domain2.com');
	};
	// 接受domain2返回数据
	window.addEventListener('message', function(e) {
		alert('data from domain2 ---> ' + e.data);
	}, false);
</script>
12345678910111213141516
</body>
</html>
